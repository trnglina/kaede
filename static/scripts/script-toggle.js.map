{"version":3,"sources":["script-toggle.js"],"names":["button","body","document","getElementsByTagName","lightIcon","template","trim","classList","toggleDarkMode","isDarkMode","contains","localStorage","setItem","add","setState","isDark","children","style","display","addEventListener","_ref","ctrlKey","altKey","keyCode","getElementsByClassName","appendChild"],"mappings":"cAAA,WAEC,IAGOA,EAHPC,EAAMC,SAAAC,qBAAA,QAAA,GAGCH,IAAAA,EAAUE,SAASE,cAAT,QACRC,UAAWH,iGAAAA,OAYlB,yBAZkBA,0BAAAA,OAYlB,wBAZkBA,+BAUnBI,OACSL,EAAKM,YAGd,SAASC,IACP,OAAIC,EAAAA,UAAcC,SAAA,QAGjB,SAAMF,IACLP,KACAU,EAAAA,UAAaC,OAAQ,QACtBD,aAAAC,QAAA,aAAA,KAFCX,EAAKM,UAAUM,IAAI,QAKvBF,aAAAC,QAAA,aAAkC,IAI/B,SAAME,EAAAd,EAAAe,GACLf,GACAA,EAAOgB,SAAS,GAAGC,MAAMC,QAAU,OACpClB,EAAAgB,SAAA,GAAAC,MAAAC,QAAA,iBAFClB,EAAOgB,SAAS,GAAGC,MAAMC,QAAU,eAKnClB,EAACmB,SAAAA,GAAiBF,MAAAC,QAAW,QAAjCjB,EAAKkB,iBAAiB,UAAW,SAAAC,GAAgC,IAA9BC,EAA8BD,EAA9BC,QAASC,EAAqBF,EAArBE,OAAQC,EAAaH,EAAbG,QAC9CF,GAAWC,GAAqB,IAAXC,IACvBf,IACAM,EAASd,EAAQS,QAKnBD,EAAAA,iBAAc,QAAA,WACdM,IAFFA,EAAAd,EAAAS,OAME,QAAAR,aAAeY,QAAI,cACpBZ,EAAAM,UAAAM,IAAA,QACDC,EAASd,EAAQS,KACjBP,SAASsB,uBAAuB,cAAc,GAAGC,YAAYzB,GAxD/D","file":"script-toggle.js","sourcesContent":["/* eslint-disable require-jsdoc */\n\n(() => {\n  const body = document.getElementsByTagName('body')[0];\n\n  const button = (function(lightIcon, darkIcon) {\n    const template = document.createElement('div');\n    template.innerHTML = `\n      <button class=\"dark-mode-button\" aria-hidden=\"true\" tabindex=\"-1\">\n        <img src=\"${lightIcon}\">\n        <img src=\"${darkIcon}\">\n      </button>\n      `.trim();\n    return template.firstChild;\n  })('/images/icons/moon.svg', '/images/icons/sun.svg');\n\n  function isDarkMode() {\n    return body.classList.contains('dark');\n  }\n\n  function toggleDarkMode() {\n    if (isDarkMode()) {\n      body.classList.remove('dark');\n      localStorage.setItem('dark-mode', false);\n    } else {\n      body.classList.add('dark');\n      localStorage.setItem('dark-mode', true);\n    }\n  }\n\n  function setState(button, isDark) {\n    if (isDark) {\n      button.children[0].style.display = 'none';\n      button.children[1].style.display = 'inline-block';\n    } else {\n      button.children[0].style.display = 'inline-block';\n      button.children[1].style.display = 'none';\n    }\n  }\n\n  body.addEventListener('keydown', ({ctrlKey, altKey, keyCode}) => {\n    if (ctrlKey && altKey && keyCode == 68) {\n      toggleDarkMode();\n      setState(button, isDarkMode());\n    }\n  });\n\n  button.addEventListener('click', () => {\n    toggleDarkMode();\n    setState(button, isDarkMode());\n  });\n\n  if (localStorage.getItem('dark-mode') == 'true') {\n    body.classList.add('dark');\n  }\n  setState(button, isDarkMode());\n  document.getElementsByClassName('navigation')[0].appendChild(button);\n})();\n"]}