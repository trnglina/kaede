{"version":3,"sources":["dark-mode.js"],"names":["body","document","getElementsByTagName","this","classList","contains","toggleDarkMode","isDarkMode","remove","localStorage","setItem","addEventListener","_ref","ctrlKey","altKey","keyCode","button","template","innerHTML","concat","setState","dark","style","display","children","onclick","getItem","appendChild"],"mappings":"cAAA,WACE,IAAMA,EAAOC,SAASC,qBAAqB,QAAQ,GAAnDF,EAAMA,WAAOC,WAGX,OAAOE,KAAKC,UAAUC,SAAS,SAChCL,EAFDM,eAAA,WAKMH,KAAKI,cADPJ,KAACG,UAALE,OAAsB,QACpBC,aAASF,QAAc,aAAA,KAErBE,KAAAA,UAAaC,IAAAA,QAFfD,aAGOC,QAAA,aAAA,KAIRV,EARDW,iBAAA,UAAA,SAAAC,GAAA,IAAAC,EAAAD,EAAAC,QAAAC,EAAAF,EAAAE,OAAAC,EAAAH,EAAAG,QAWMF,GAAWC,GAAqB,IAAXC,IADvBf,EAACW,iBAA4DK,EAA9BH,SAA8Bb,EAA9Ba,iBACjC,IAEQI,EADFD,EADFH,IAEII,EAAUjB,SAAKO,cAArB,QACDW,UAAA,qGAAAC,OA8BD,yBA9BC,4BAAAA,OA8BD,wBA9BC,mCAKOF,QAPFD,EAQJC,EAASC,YASJE,SAAW,SAASC,GAArBA,GACJlB,KAAIkB,SAAM,GAAAC,MAAAC,QAAA,OACRpB,KAAKqB,SAAS,GAAGF,MAAMC,QAAU,iBADnCpB,KAGOqB,SAAA,GAAAF,MAAAC,QAAA,eACLpB,KAAKqB,SAAS,GAAGF,MAAMC,QAAU,SAKrCP,EAAOS,QAAU,WAAjBT,EAAOS,iBACLzB,EAAKM,SAAAA,EAALC,eAIKS,GAGgC,QAArCP,aAAaiB,QAAQ,cAAzB1B,EAAIS,UAAaiB,IAAAA,QAIjBV,EAAOI,SAASpB,EAAKO,cAArBS,SAAOI,uBAAS,cAAhB,GAAAO,YAAAX,GA1DF","file":"dark-mode.js","sourcesContent":["(() => {\n  const body = document.getElementsByTagName('body')[0];\n\n  body.isDarkMode = function() {\n    return this.classList.contains('dark');\n  };\n\n  body.toggleDarkMode = function() {\n    if (this.isDarkMode()) {\n      this.classList.remove('dark');\n      localStorage.setItem('dark-mode', false);\n    } else {\n      this.classList.add('dark');\n      localStorage.setItem('dark-mode', true);\n    }\n  };\n\n  body.addEventListener('keydown', ({ctrlKey, altKey, keyCode}) => {\n    if (ctrlKey && altKey && keyCode == 68) {\n      body.toggleDarkMode();\n      button.setState(body.isDarkMode());\n    }\n  });\n\n  const button = (function(lightIcon, darkIcon) {\n    const button = (() => {\n      const template = document.createElement('div');\n      template.innerHTML = `\n        <button class=\"dark-mode-button\" aria-hidden=\"true\" tabindex=\"-1\">\n          <img src=\"${lightIcon}\">\n          <img src=\"${darkIcon}\">\n        </button>\n        `.trim();\n      return template.firstChild;\n    })();\n\n    button.setState = function(dark) {\n      if (dark) {\n        this.children[0].style.display = 'none';\n        this.children[1].style.display = 'inline-block';\n      } else {\n        this.children[0].style.display = 'inline-block';\n        this.children[1].style.display = 'none';\n      }\n    };\n\n    button.onclick = () => {\n      body.toggleDarkMode();\n      button.setState(body.isDarkMode());\n    };\n\n    return button;\n  })('/images/icons/moon.svg', '/images/icons/sun.svg');\n\n  if (localStorage.getItem('dark-mode') == 'true') {\n    body.classList.add('dark');\n  }\n\n  button.setState(body.isDarkMode());\n  document.getElementsByClassName('navigation')[0].appendChild(button);\n})();\n"]}